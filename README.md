# –ë–æ—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤

–≠—Ç–æ—Ç Telegram-–±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑—É—á–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–ª–æ–≤–∞. –ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç:
 - –ò–∑—É—á–∞—Ç—å —Å–ª–æ–≤–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏;
 - –ü–æ–≤—Ç–æ—Ä—è—Ç—å —Å–ª–æ–≤–∞, –∏–∑—É—á–µ–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ;
 - –°–ª–µ–¥–∏—Ç—å –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏–∑—É—á–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤.


## –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫

 - aiogram: –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Ç–µ–ª–µ–≥—Ä–∞–º 
–±–æ—Ç, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–º –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–µ aiogram 3;
 - Django Rest Framework (DRF): –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±—ç–∫–µ–Ω–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è DRF, 
–¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–ª–æ–≤. –í –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±—ã–ª –≤—ã–±—Ä–∞–Ω PostgreSQL. 
–ù–∞ –±—ç–∫–µ–Ω–¥–µ —Ç–∞–∫ –∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;
 - Redis: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ redis –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å—é —Ö—Ä–∞–Ω–µ–Ω–∏—è 
—Å–æ—Å—Ç–æ—è–Ω–∏–π FSM aiogram, –∞ —Ç–∞–∫ –∂–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±—Ä–æ–∫–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Celery;
 - Celery: –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–ª–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, —É –∫–æ—Ç–æ—Ä—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ 
–Ω–µ –±—ã–ª–æ –±–æ–ª—å—à–µ —Å—É—Ç–æ–∫, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è celery.
 - aiohttp: –æ–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É –±–æ—Ç–æ–º –∏ –±—ç–∫–µ–Ω–¥–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π 
HTTP-–∫–ª–∏–µ–Ω—Ç/—Å–µ—Ä–≤–µ—Ä

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–æ—Ç –∏ –±—ç–∫–µ–Ω–¥ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞, —Ç.–µ. –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

<!--–£—Å—Ç–∞–Ω–æ–≤–∫–∞-->
## –£—Å—Ç–∞–Ω–æ–≤–∫–∞(Windows)
### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

  ```bash
  git clone https://github.com/Kredo15/django_aiogram.git
  ```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã –¥–ª—è backend

  - **–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é**:
    ```bash
    cd backend
    ```

  - **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
    ```bash
    python -m venv venv
    ```
   
  - **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
    ```bash
    venv\Scripts\activate
    ```

  - **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
    ```bash
    pip install -r requirements.txt
    ```

  - **–°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**

  - **–ó–∞–ø—É—Å–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏**:
    ```bash
    python manage.py migrate
    ```

  - **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä**:
    ```bash
    python manage.py runserver
    ```


### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã –¥–ª—è bot

  - **–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é**:
      ```bash
      cd bot
      ```

  - **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
      ```bash
      python -m venv venv
      ```
   
  - **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
      ```bash
      venv\Scripts\activate
      ```

   - **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
     ```bash
      pip install -r requirements.txt
      ```

   - **–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram —Å –ø–æ–º–æ—â—å—é BotFather –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω.
–°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª, —É–∫–∞–∑–∞—Ç—å —Ç–æ–∫–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ redis, celery –∏ backend**
   - **–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞**:
      ```bash
      python main.py
      ```


### 4. –ó–∞–ø—É—Å–∫ redis

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ redis –Ω–∞ windows –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π 
–ø–æ [—ç—Ç–æ–π —Å—Å—ã–ª–∫–µ](https://redis-docs.ru/operate/oss_and_stack/install/install-redis/install-redis-on-windows/).


### 5. –ó–∞–ø—É—Å–∫ celery
   - **–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é**:
      ```bash
      cd bot
      ```
   
   - **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
      ```bash
      venv\Scripts\activate
      ```

   - **–ó–∞–ø—É—Å–∫ celery**:
      ```bash 
      celery -A celery_queue.tasks worker --loglevel=info
      ```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å –ø–æ–º–æ—â—å—é Docker

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
   - **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - **–°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ redis, celery –∏ backend**

### 3. Docker-Compose
   - **–ó–∞–ø—É—Å—Ç–∏—Ç—å Docker Compose**:
     ```bash
     docker compose up -d
     ```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### 1. –ö–æ–º–∞–Ω–¥—ã
  - **/start –∏–ª–∏ /menu ‚Äî –≤—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π.**
  - **/help - –æ–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞**

### 2. –ò–∑—É—á–µ–Ω–∏–µ —Å–ª–æ–≤
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã /start –∏–ª–∏ /menu, –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤—ã–±–æ—Ä–∞ –¥–µ–π—Å—Ç–≤–∏–π: 'üìö –ò–∑—É—á–∞—Ç—å –Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞', 'üèÜ –†–µ–π—Ç–∏–Ω–≥', '‚ùì –ü–æ–º–æ—â—å'.

–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∏–∑—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π. 
–ü–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è—â–µ–µ –∏–∑: –≤–∏–¥–∏–º–æ–π —á–∞—Å—Ç–∏ - —ç—Ç–æ —Å–ª–æ–≤–æ –Ω–∞ 
–∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ, —Å–∫—Ä—ã—Ç–æ–π —á–∞—Å—Ç–∏ - —ç—Ç–æ –ø–µ—Ä–µ–≤–æ–¥ –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π: 'üòé –ó–Ω–∞—é', 'üìùÔ∏è –ò–∑—É—á–∞—Ç—å',
'üèÅ –ó–∞–∫–æ–Ω—á–∏—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ'. –ü–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∫–Ω–æ–ø–∫—É 'üòé –ó–Ω–∞—é' —Å–ª–æ–≤–æ –ø–æ–º–µ—Ç–∏—Ç—Å—è –∫–∞–∫ –∏–∑—É—á–µ–Ω–Ω–æ–µ, –ø–æ
–∫–Ω–æ–ø–∫–µ 'üìùÔ∏è –ò–∑—É—á–∞—Ç—å' –∑–∞–ø–æ–º–Ω–∏—Ç—å—Å—è –¥–ª—è —É–∑–∏—á–µ–Ω–∏—è. –¢–∞–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞
–Ω–µ –Ω–∞–±–µ—Ä–µ—Ç—Å—è 5 —Å–ª–æ–≤ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è. –ó–∞—Ç–µ–º –±–æ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞ —Ä–∞–Ω–¥–æ–º–Ω–æ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç 
–æ–¥–∏–Ω –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
    - —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–ª–æ–≤–æ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º